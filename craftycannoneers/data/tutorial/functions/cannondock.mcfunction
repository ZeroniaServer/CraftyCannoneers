execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run clear @s

execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.0 with gunpowder{NoDrop:1b,display:{Name:'[{"text":"Gunpowder","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Used to change the power of a cannon shot.","italic":false,"color":"white"}]']}} 1
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.1 with diamond_hoe{HideFlags:127,NoDrop:1b,Unbreakable:1b,CustomModelData:60,Cannonball:8b,display:{Name:'[{"text":"Tracer Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Using this Cannonball does not","italic":false,"color":"white"}]','[{"text":"consume any Gunpowder in a Cannon.","italic":false,"color":"white"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Leaves behind a visible trail","italic":false,"color":"#66ff99"}]','[{"text":"which is only apparent to its user.","italic":false,"color":"#66ff99"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.2 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:16,Unbreakable:1b,Cannonball:1b,display:{Name:'[{"text":"Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"The most basic type of cannonball.","italic":false,"color":"white"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.3 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:22,Cannonball:2b,Unbreakable:1b,display:{Name:'[{"text":"Hot Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"On impact, sets an area around","italic":false,"color":"white"}]','[{"text":"it on fire. Fire temporarily","italic":false,"color":"white"}]','[{"text":"disables cannons.","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Has a special interaction with","italic":false,"color":"aqua"}]','[{"text":"Gas Cannonballs...","italic":false,"color":"aqua"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.4 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:29,Cannonball:3b,Unbreakable:1b,display:{Name:'[{"text":"Cannonball Cluster","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Shoot 5 small cannonballs in 1 shot.","italic":false,"color":"white"}]','[{"text":"These are extremely inaccurate!","italic":false,"color":"white"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Best used against enemies occupying","italic":false,"color":"aqua"}]','[{"text":"the center island...","italic":false,"color":"aqua"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.5 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:31,Cannonball:4b,Unbreakable:1b,display:{Name:'[{"text":"Gas Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"On impact, releases a toxic cloud","italic":false,"color":"white"}]','[{"text":"of gas, poisoning players inside.","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Has a special interaction with","italic":false,"color":"aqua"}]','[{"text":"Hot Cannonballs...","italic":false,"color":"aqua"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.6 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:32,Cannonball:5b,Unbreakable:1b,display:{Name:'[{"text":"Chain Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Half Cannonballs connected together","italic":false,"color":"white"}]','[{"text":"by a chain. A little less accurate,","italic":false,"color":"white"}]','[{"text":"but it has a wider area of effect.","italic":false,"color":"white"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Deals bonus damage to sails!","italic":false,"color":"aqua"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.7 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:55,Cannonball:6b,Unbreakable:1b,display:{Name:'[{"text":"Bouncy Cannonball","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Bounces around on any surface","italic":false,"color":"white"}]','[{"text":"before exploding.","italic":false,"color":"white"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Every time it bounces it deals","italic":false,"color":"aqua"}]','[{"text":"damage to surrounding players.","italic":false,"color":"aqua"}]']}}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run item replace entity @s hotbar.8 with diamond_hoe{HideFlags:127,NoDrop:1b,CustomModelData:73,Unbreakable:1b,Cannonball:9b,display:{Name:'[{"text":"Golden Cannonball","color":"gold","italic":false}]',Lore:['[{"text":"Only found in Locked Treasure Chests!","italic":false,"color":"dark_red","underlined":true},{"text":"","italic":false,"color":"dark_purple","underlined":false}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"The most fancy type of cannonball!","italic":false,"color":"white"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"The Golden Cannonball gives Gold to","italic":false,"color":"aqua"}]','[{"text":"their users when they damage ships","italic":false,"color":"aqua"}]','[{"text":"or kill enemies with them.","italic":false,"color":"aqua"}]']}}

execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run function lobby:hats

execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] at @s run playsound ding master @a ~ ~ ~ 1 0.6
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run title @s title {"text":"Cannon Dock","color":"aqua"}
execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run title @s subtitle {"text":"(Learn how to shoot Cannons)","color":"yellow"}

execute as @a[gamemode=!spectator,predicate=tutorial:cannondock,tag=!OnDock] run tag @s add OnDock

execute as @a[predicate=!tutorial:cannondock,tag=OnDock] run title @s title {"text":" "}
execute as @a[predicate=!tutorial:cannondock,tag=OnDock] run title @s subtitle {"text":" "}
execute as @a[predicate=!tutorial:cannondock,tag=OnDock] run clear @s
execute as @a[predicate=!tutorial:cannondock,tag=OnDock] run function lobby:items
execute as @a[predicate=!tutorial:cannondock,tag=OnDock] run tag @s remove OnDock

#> Ship restoring
execute unless entity @e[type=armor_stand,tag=cannonball] unless entity @e[type=marker,tag=ShipRestore] unless entity @e[type=marker,tag=FakeWeakpoint,tag=!WeakpointDamaged] run function tutorial:restoreship
execute unless entity @e[type=armor_stand,tag=cannonball] if score $shipstatus CmdData matches 1 if score $shiptimer CmdData matches 1..1199 run scoreboard players add $shiptimer CmdData 1
execute unless entity @e[type=armor_stand,tag=cannonball] if score $shipstatus CmdData matches 1 if score $shiptimer CmdData matches 1200 run function tutorial:restoreship
execute unless entity @a[predicate=game:tutorialbounds] if score $shipstatus CmdData matches 1 if score $shiptimer CmdData matches 1.. run function tutorial:restoreship

execute as @e[type=marker,tag=ShipRestore] at @s run function tutorial:restoreloop